<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>添加银行卡</title>
  <meta name="description" content="particles.js is a lightweight JavaScript library for creating particles.">
  <meta name="author" content="Vincent Garreau" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="layui/css/layui.css">
  <link rel="stylesheet" type="text/css" href="css/reset.css">
  <link rel="stylesheet" type="text/css" href="css/添加银行卡.css">
  <script type="text/javascript" src="js/angular.min.js"></script>
  <script type="text/javascript" src="js/base.js"></script>
  <script type="text/javascript" src="js/controller/billController.js"></script>
  <script type="text/javascript" src="js/service/billService.js"></script>
  <script type="text/javascript" src="js/service/userService.js"></script>
</head>
<!--  初始化selectAllCard()-->
<body ng-app="family" ng-controller="billController" ng-init="selectAllCard()">
    <div class="toolbar">
      <div class="icon-warpper">
        <img class="back-icon" src="img/返回.png" onclick="window.history.back(-1);">
      </div>
      <p class="icon-txt">添加银行卡</p>
      <div id="test2" class="btn-add">
        <img class="" src="img/添加.png" width="33" height="33">
      </div>
    </div>
    <div class="container">
      <table class="layui-table">
          <colgroup>
            <col width="60">
            <col width="180">
            <col>
          </colgroup>
          <thead>
            <tr>
              <th></th>
              <th style="text-align: center">卡号</th>
              <th style="text-align: center">操作</th>
            </tr> 
          </thead>
          <tbody>
          <!-- 遍历银行卡 -->
            <tr ng-repeat="card in list">
              <td>{{$index+1 }}</td>
              <td class="bank-card-nub">{{card.cnumber }}</td>
              <td>
                <button id="test1" class="layui-btn layui-btn-normal" ng-click="deleteCard(card.cid)">删除</button>
              </td>
            </tr>
          </tbody>
      </table>
    </div>
    
</body>
<div id='dialog' style="display: none">
        <input type="number" ng-model="entity.cnumber" id="cao" name="" style="
            position: absolute;
            top:36%;
            left:50%;
            margin-top: -1.25rem;
            margin-left: -7.5rem;
            display: block;
            width: 15rem;
            padding-left: 10px;
            height: 2.5rem;
            font-size: 1.2rem;
            line-height: 1.3;
            line-height: 38px\9;
            border-width: 1px;
            border-style: solid;
            background-color: #fff;
            border-radius: 2px;
            border-color: #d6d6d6;
         " />
        <button id="close" style=" 
            position: absolute;
            left:50%;
            bottom: 1rem;
            margin-left: -3rem;
            display: inline-block;
            width: 6rem;
            height: 38px;
            line-height: 38px;
            padding: 0 18px;
            background-color: #1E9FFF;
            color: #fff;
            white-space: nowrap;
            text-align: center;
            font-size: 14px;
            border: none;
            border-radius: 2px;
            cursor: pointer;
            " ng-click="addCard()"	
        ><!-- 添加银行卡 -->
        确定</button>
    </div>
<script src="node_modules/jquery/dist/jquery.js"></script>
<script src="layui/layui.js"></script>
<script src="layui/layui.all.js"></script>
<script type="text/javascript">
let dialog = document.getElementById('dialog')
let close = document.getElementById('close')

$('#test2').on('click', function(){
  dialog.style.display = 'block'
  var _layer = layer
  layer.open({
    type: 1,
    title:'请输入银行卡号',
    area: ['24rem', '14rem'],
    shadeClose: false, //点击遮罩关闭
    content: $('#dialog'),
    closeBtn:1,
    yes: function(index, layero){
      //do something
      layer.close(index); //如果设定了yes回调，需进行手工关闭
    },
    cancel: function(layero, index){
      dialog.style.display = 'none'
    }
  });
});
  
 $('#close').on('click', function(){
   layer.close(layer.index);
   dialog.style.display = 'none'
}); 
</script>
</html>